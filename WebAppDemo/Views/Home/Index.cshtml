
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <style>
        .box{border:1px solid #808080; margin:10px;}
    </style>
</head>
<body>
    <section>
        <select id="language">
            <option>选择语言</option>
            <option value="zh_cn">简体中文</option>
            <option value="en">English</option>
            <option value="jp">日本語</option>
        </select>
    </section>
    <div>
        <p>是否加载语言包dll：@ViewBag.HasLanguage</p>
        <p>LanguagePacks项目生成的dll。放入WebAppDemo/bin</p>
    </div>
    <div>
        <label>Razor页面绑定：</label>
        <h1>@Html.Locale("你好")</h1>
        <h1>@Html.Locale("新增")</h1>
        <h1>@Html.Locale("修改")</h1>
        <h1>@Html.Locale("删除")</h1>
    </div>
    <div>
        <label>控制器端绑定</label>
        <h1>@ViewBag.Search</h1>
        <h1>@ViewBag.Choose</h1>
    </div>
    <div>
        <label>target设置为元素id</label>
        <input  id="divMessage" value="@Html.Locale("divMessage")" />
    </div>
    <div>
        <label>脚本中使用</label>
        <button type="button" id="btn-test">测试</button>
    </div>
    <!--脚本中使用-->
    <script>
        var jsLanguages = { "title": "@Html.Locale("你好")" };
    </script>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(function () {
            $("#language").val("@ViewBag.Language");
            $("#language").change(function () {
                var lang= $(this).val();
                window.location.href = "/Home?lang=" + lang;
            });
            $("#btn-test").click(function () {
                alert(jsLanguages.title);
            });
        });
    </script>
</body>
</html>
